import { useCallback } from 'react';
import handleChange from '../utils/handleChange';
const useValidation = (dispatch, event) => {
    return useCallback((ref) => {
        if (ref) {
            const { name, value } = ref;
            dispatch({
                type: 'setRef',
                data: {
                    [name]: ref,
                },
            });
            if (value) {
                handleChange(ref, dispatch);
            }
            switch (event) {
                case 'blur':
                    ref.onblur = (e) => handleChange(e, dispatch);
                    break;
                default:
                    ref.oninput = (e) => handleChange(e, dispatch);
                    break;
            }
        }
    }, [dispatch]);
};
export default useValidation;
