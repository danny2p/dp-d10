"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const validateValue_1 = tslib_1.__importDefault(require("./validateValue"));
const setErrors = (data, dispatch) => {
    const { error, message, code } = (0, validateValue_1.default)(data);
    if (error) {
        dispatch({
            type: 'error',
            name: data.name,
            data: {
                [data.name]: {
                    ...data,
                },
            },
            errors: {
                [data.name]: {
                    error,
                    message,
                    code,
                },
            },
        });
        return {
            data: {
                [data.name]: {
                    ...data,
                },
            },
            errors: {
                [data.name]: {
                    message,
                    code,
                },
            },
        };
    }
    dispatch({
        type: 'change',
        name: data.name,
        data: {
            [data.name]: {
                ...data,
            },
        },
    });
    return {
        data: {
            [data.name]: {
                ...data,
            },
        },
    };
};
exports.default = setErrors;
